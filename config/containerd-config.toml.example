# containerd Configuration Example for Nexus EROFS Snapshotter
#
# Add this to your /etc/containerd/config.toml

version = 2

# Register the external nexuserofs snapshotter
[proxy_plugins]
  [proxy_plugins.nexuserofs]
    type = "snapshot"
    address = "/run/nexuserofs-snapshotter/snapshotter.sock"

  [proxy_plugins.nexuserofs-diff]
    type = "diff"
    address = "/run/nexuserofs-snapshotter/snapshotter.sock"

# Optional: Use nexuserofs as the default snapshotter for CRI
[plugins."io.containerd.cri.v1.images"]
  snapshotter = "nexuserofs"

# Optional: Configure the default runtime to use nexuserofs
# [plugins."io.containerd.cri.v1.runtime"]
#   [plugins."io.containerd.cri.v1.runtime".containerd]
#     snapshotter = "nexuserofs"
